<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>event delegation with data attribute</title>
  </head>
  <body>
    <div id="menu">
      <button data-action="save">Save</button>
      <button data-action="load">Load</button>
      <button data-action="search">Search</button>
    </div>
    <script type="text/javascript">
      class Menu {
        constructor (elem) {
          this._elem = elem
          elem.onclick = this.onClick.bind(this)
        }

        save () {
          alert('saving!')
        }

        load () {
          alert('loading!')
        }

        search () {
          alert('searching!')
        }

        onClick (e) {
          let action = e.target.dataset.action
          if (action) {
            this[action]()
          }
        }
      }
      const menu = document.querySelector('#menu')
      new Menu(menu)
    </script>
  </body>
</html>
